# СУБД и язык SQL

- [СУБД и язык SQL](#субд-и-язык-sql)
  - [СУБД](#субд)
  - [Типы СУБД](#типы-субд)
    - [Расположение базы данных](#расположение-базы-данных)
    - [Хранение и обработка данных](#хранение-и-обработка-данных)
    - [Структура и организация данных](#структура-и-организация-данных)
    - [Используемый язык запросов](#используемый-язык-запросов)
    - [Язык SQL](#язык-sql)
  - [Популярные реляционные СУБД](#популярные-реляционные-субд)
    - [PostgreSQL](#postgresql)
    - [MySQL](#mysql)
    - [SQLite](#sqlite)
  - [Группы операторов SQL](#группы-операторов-sql)
    - [DDL – Data Definition Language](#ddl--data-definition-language)
    - [DML – Data Manipulation Language](#dml--data-manipulation-language)
    - [DCL – Data Control Language](#dcl--data-control-language)
    - [TCL – Transaction Control Language](#tcl--transaction-control-language)

## СУБД

**СУБД** (*система управления базами данных*) - это комплексное ПО, которое является интерфейсом между базой данных и пользователем (разработчиком или программой), предоставляя им возможность удобно взаимодействовать с базой данных.

![СУБД](https://i.ibb.co/5YzfXK6/image.png)

Главное назначение СУБД - управление базой данных. Помимо операций над данными (вставка, изменение, удаление), СУБД позволяет выполнять резервное копирование и восстановление данных. Так же СУБД предоставляет механизмы для защиты данных: аутентификацию, авторизацию и шифрование.

Для работы с базой данных посредством СУБД используются определенные языки программирования. Разработчик, следуя синтаксису языка, пишет программный код и выполняет с базой данных то, что ему необходимо. Это может быть добавление в таблицу базы данных новой записи или извлечение записей из таблицы с дополнительной фильтрацией и сортировкой. Каждое подобное обращение к базе данных называется **запросом**.

![запрос](https://i.ibb.co/vxBgBGb/image.png)

Взаимодействие конечного пользователя с базой данных также происходит при помощи запросов. Например, когда пользователь нажимает на кнопку на сайте интернет-магазина, чтобы перейти к товару и прочесть его описание, сайт составляет запрос к базе данных и отправляет его СУБД. Она обрабатывает его и ищет в базе данных запрашиваемую информацию, а затем возвращает обратно сайту, который конвертирует их в читаемый вид и предоставляет пользователю

> Языки программирования, используемые СУБД для работы с базами данных, часто называют языками запросов.

## Типы СУБД

На сегодняшний день существует немалое количество различных СУБД, каждая из них обладает рядом отличительных характеристик. Обычно СУБД классифицируют по расположению базы данных, способу обработки данных, выбранной модели хранения данных и используемому языку запросов.

### Расположение базы данных

В зависимости от расположения базы данных СУБД разделяют на локальные и распределенные. Локальные СУБД хранят базу данных на одном сервере (или устройстве), в то время как в распределенных СУБД данные хранятся на нескольких серверах, которые физически могут находиться в разных местах.

Многие современные СУБД поддерживают как локальное, так и распределенное применение или позволяют подключить дополнительные модули для распределенного доступа.

### Хранение и обработка данных

По способу хранения и обработки данных СУБД делятся на **клиент-серверные**, **файл-серверные** и **встраиваемые**. Клиент-серверный тип предполагает, что СУБД и база данных размещены на одном сервере, к которому обращаются с запросами разные пользователи. Получить доступ к данным, расположенным на сервере, можно с любого устройства, специальное ПО для этого не требуется.

> Примером использования **клиент-серверной** СУБД может служить база данных интернет-магазина, ассортимент которого покупатели просматривают со своих смартфонов или компьютеров.

Идея **файл-серверного** типа заключается в том, что база данных хранится на одном файл-сервере, а СУБД — на каждом устройстве, с которого отправляются запросы к базе данных. Чтобы пользователь мог получить доступ к данным, у него на устройстве должна быть установлена и настроена СУБД.

Наконец, **встраиваемые** СУБД предназначены для того, чтобы полностью интегрировать их в приложения и использовать для хранения и управления данными только внутри этих приложений.

### Структура и организация данных

СУБД также классифицируются по моделям баз данных, на которых они основаны. Для любой модели, будь то **иерархическая** или **сетевая**, имеется соответствующая СУБД. Например, если СУБД использует для хранения данных реляционную модель, ее так и называют — **реляционной**.

### Используемый язык запросов

Чаще всего СУБД делятся на два типа в зависимости от языка программирования, который они используют: SQL-ориентированные и NoSQL-ориентированные. SQL-ориентированные СУБД для управления данными используют язык под названием SQL, в то время как NoSQL-ориентированные СУБД используют языки, отличные от SQL.

SQL является стандартным языком для всех реляционных СУБД, поэтому разделяя СУБД по языку, который они используют, мы фактически разделяем их на реляционные и нереляционные.

> NoSQL-ориентированные СУБД чаще используются там, где нужно работать с большим объемом информации или с данными, имеющими сложную связную структуру.

### Язык SQL

Реляционные СУБД — одни из самых распространенных систем. Как уже было сказано ранее, для управления данными они используют язык программирования под названием **SQL** (*Structured Query Language*, *язык структурированных запросов*), который был специально разработан для работы с базами данных, принадлежащими реляционной модели.

SQL является **декларативным** языком, то есть с помощью SQL программист описывает только то, какие данные нужно извлечь или модифицировать. Каким образом это сделать, решает СУБД непосредственно при обработке SQL-запроса. Однако не стоит думать, что это полностью универсальный принцип — программист описывает набор данных для выборки или модификации, однако при этом ему полезно представлять, как СУБД будет разбирать текст его запроса. Чем сложнее сконструирован запрос, тем больше он допускает вариантов написания, различных по скорости выполнения, но одинаковых по итоговому набору данных.

> SQL — это способ формулировки запросов к базе данных, а СУБД обеспечивает выполнение этих запросов и управление физическими данными в базе.

## Популярные реляционные СУБД

Существует множество реляционных систем управления базами данных, но некоторые из них являются наиболее популярными и широко используемыми.

### PostgreSQL

**PostgreSQL** — клиент-серверная реляционная СУБД, которая обладает значительной функциональностью и производительностью, при этом доступна бесплатно. Она также подходит для масштабных проектов с большими массивами данных и высокой нагрузкой.

В качестве основного языка запросов используется SQL, но СУБД также поддерживает его расширения на базе языков программирования: PL/Perl, PL/Python и PL/Java. Одно из главных преимуществ PostgreSQL в том, что у нее нет ограничений по размеру баз данных и числу записей в таблицах.

### MySQL

**MySQL** — клиент-серверная реляционная СУБД, которая хорошо подходит для средних и небольших проектов и команд. Она обладает интуитивно понятным интерфейсом и доступна для свободного использования, поддерживает разнообразные форматы таблиц и постоянно расширяет свои функциональные возможности.

MySQL поддерживает различные операционные системы, такие как Windows, Linux и Unix, и обладает API для основных языков программирования, таких как C++, Python, Ruby и Java. MySQL демонстрирует высокую производительность при работе с небольшими и средними базами данных, что обусловлено ее внутренней структурой.

MySQL также гарантирует высокий уровень безопасности в хранении и передаче данных. Система предоставляет продвинутую систему управления правами доступа для различных пользователей, предлагает механизмы шифрования и верификации. Кроме того, для этой СУБД доступны различные плагины, повышающие уровень безопасности на серверной стороне и дополнительно обеспечивающие защиту данных.

Благодаря своей доступности, легкому внедрению и универсальности, MySQL остается одним из самых востребованных решений для управления базами данных. У этой системы развитое мировое сообщество, множество проектов реализованы с использованием MySQL, и специалисты, владеющие этой технологией, ценятся повсеместно.

### SQLite

**SQLite** — компактная СУБД, которая подходит для небольших проектов. Она состоит из одного файла и встраивается в IT-инфраструктуру в виде библиотеки, не задействуя серверы и специальные службы. Все базы данных хранятся на одном устройстве.

SQLite подходит для небольших сайтов и приложений с ограниченным трафиком и объемом данных, а также сервисов, где нужно прочитать или сохранить файлы на диск. СУБД работает на компьютерах, смартфонах, ТВ, приставках и беспилотниках, не требует администрирования и поддержки.

## Группы операторов SQL

С точки зрения реализации язык SQL представляет собой набор операторов, которые делятся на определенные группы, и у каждой группы есть свое назначение. В сокращенном виде эти группы называются DDL, DQL, DML, DCL и TCL.

> Группы операторов SQL иногда называют подмножествами SQL.

### DDL – Data Definition Language

**Data Definition Language** (*DDL*) – это группа операторов определения данных. Другими словами, с помощью операторов, входящих в эту группу, мы определяем структуру базы данных и работаем с объектами этой базы, то есть создаем, изменяем и удаляем их.

В эту группу входят следующие операторы:

- **CREATE** – используется для создания объектов базы данных
- **ALTER** – используется для изменения объектов базы данных
- **DROP** – используется для удаления объектов базы данных

### DML – Data Manipulation Language

**Data Manipulation Language** (**DML**) – это группа операторов для манипуляции данными. С помощью этих операторов мы можем добавлять, изменять, удалять и выгружать данные из базы, то есть манипулировать ими.

В эту группу входят самые распространенные операторы языка SQL:

- **SELECT** – осуществляет выборку данных (*DQL - Data Query Language*)
- **INSERT** – добавляет новые данные
- **UPDATE** – изменяет существующие данные
- **DELETE** – удаляет данные

### DCL – Data Control Language

**Data Control Language** (*DCL*) – группа операторов определения доступа к данным. Иными словами, это операторы для управления разрешениями. С их помощью мы можем разрешать или запрещать выполнение определенных операций над объектами базы данных.

Сюда входят:

- **GRANT** – предоставляет пользователю или группе пользователей разрешения на определенные операции с объектом
- **REVOKE** – отзывает выданные разрешения
- **DENY–** задает запрет, имеющий приоритет над разрешением

### TCL – Transaction Control Language

**Transaction Control Language** (*TCL*) – группа операторов для управления транзакциями. **Транзакция** – это команда или блок команд, которые выполняются как единое целое. Если транзакция выполнена успешно, все модификации данных, сделанные в течение транзакции, принимаются и становятся постоянной частью базы данных. Если в результате выполнения транзакции происходит ошибка, все выполненные модификации данных будут отменены.

Группа операторов TCL предназначена для реализации и управления транзакциями. Сюда можно отнести:

- **BEGIN** – служит для определения начала транзакции
- **COMMIT** – применяет транзакцию
- **ROLLBACK** – откатывает все изменения, сделанные в контексте текущей транзакции
- **SAVE** – устанавливает промежуточную точку сохранения внутри транзакции
