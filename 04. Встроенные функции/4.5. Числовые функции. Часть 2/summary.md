# Числовые функции. Часть 2

- [Числовые функции. Часть 2](#числовые-функции-часть-2)
  - [Функции DEGREES() и RADIANS()](#функции-degrees-и-radians)
  - [Функции PI(), SIN(), COS() и TAN()](#функции-pi-sin-cos-и-tan)
  - [Функции LEAST() и GREATEST()](#функции-least-и-greatest)
  - [Функция CONV()](#функция-conv)
  - [Функция FORMAT()](#функция-format)

## Функции DEGREES() и RADIANS()

Функция `DEGREES()` используется для перевода значения из радиан в градусы. Она принимает в качестве аргумента значение в радианах, конвертирует его в градусы и возвращает полученный результат.

Результатом приведенного ниже запроса:

```sql
SELECT DEGREES(1),
       DEGREES(3.14),
       DEGREES(6.28);
```

является:

```sql
+-------------------+-------------------+------------------+
| DEGREES(1)        | DEGREES(3.14)     | DEGREES(6.28)    |
+-------------------+-------------------+------------------+
| 57.29577951308232 | 179.9087476710785 | 359.817495342157 |
+-------------------+-------------------+------------------+
```

Похожим образом себя ведет функция `RADIANS()` за тем исключением, что она выполняет обратный перевод — из градусов в радианы.

Результатом приведенного ниже запроса:

```sql
SELECT RADIANS(57),
       RADIANS(180),
       RADIANS(360);
```

является:

```sql
+--------------------+-------------------+-------------------+
| RADIANS(57)        | RADIANS(180)      | RADIANS(360)      |
+--------------------+-------------------+-------------------+
| 0.9948376736367679 | 3.141592653589793 | 6.283185307179586 |
+--------------------+-------------------+-------------------+
```

## Функции PI(), SIN(), COS() и TAN()

Функция `PI()` используется для получения числа пи. Она не принимает никаких аргументов и возвращает число пи с точностью до шести знаков после запятой.

Результатом приведенного ниже запроса:

```sql
SELECT PI();
```

является:

```sql
+----------+
| PI()     |
+----------+
| 3.141593 |
+----------+
```

Функции `SIN()`, `COS()` и `TAN()` используются для вычисления синуса, косинуса и тангенса соответственно. Каждая функция принимает в качестве аргумента значение в радианах и возвращает соответствующую тригонометрическую величину.

Результатом приведенного ниже запроса:

```sql
SELECT SIN(PI()),
       COS(PI()),
       TAN(PI());
```

является:

```sql
+-----------+-----------+-----------+
| SIN(PI()) | COS(PI()) | TAN(PI()) |
+-----------+-----------+-----------+
| 0         | -1        | 0         |
+-----------+-----------+-----------+
```

## Функции LEAST() и GREATEST()

Функция `LEAST()` используется для поиска минимального значения. Она принимает переменное количество аргументов (не меньше двух) и возвращает наименьший из них.

Результатом приведенного ниже запроса:

```sql
SELECT LEAST(2, 1, 3, 5, 4);
```

является:

```sql
+----------------------+
| LEAST(2, 1, 3, 5, 4) |
+----------------------+
| 1                    |
+----------------------+
```

Если поиск минимального значения происходит среди действительных (типы `FLOAT` и `DOUBLE`) и целых чисел, функция `LEAST()` сначала преобразует все числа в действительные.

Результатом приведенного ниже запроса:

```sql
SELECT LEAST(2, 1, 3.0, 5, 4);
```

является:

```sql
+------------------------+
| LEAST(2, 1, 3.0, 5, 4) |
+------------------------+
| 1.0                    |
+------------------------+
```

Если хотя бы один из аргументов, переданных в функцию `LEAST()`, является строкой, функция перед поиском минимального значения сначала преобразует все аргументы в строки.

Результатом приведенного ниже запроса:

```sql
SELECT LEAST(100, '11');
```

является:

```sql
+------------------+
| LEAST(100, '11') |
+------------------+
| 100              |
+------------------+
```

Если хотя бы один из аргументов, переданных в функцию `LEAST()`, равняется `NULL`, возвращаемым значением функции также будет `NULL`.

Результатом приведенного ниже запроса:

```sql
SELECT LEAST(2, 1, NULL, 5, 4);
```

является:

```sql
+-------------------------+
| LEAST(2, 1, NULL, 5, 4) |
+-------------------------+
| NULL                    |
+-------------------------+
```

Похожим образом себя ведет функция `GREATEST()` за тем исключением, что она выполняет поиск наибольшего значения, а не наименьшего.

Результатом приведенного ниже запроса:

```sql
SELECT GREATEST(2, 1, 3, 5, 4);
```

является:

```sql
+-------------------------+
| GREATEST(2, 1, 3, 5, 4) |
+-------------------------+
| 5                       |
+-------------------------+
```

## Функция CONV()

Функция `CONV()` используется для перевода числа из одной системы счисления в другую. Она принимает три аргумента в следующем порядке:

- `num` — число
- `from_base` — система счисления, в которой представлено число
- `to_base` — система счисления, в которую нужно перевести число

Функция переводит число num из системы счисления `from_base` в систему счисления `to_base` и возвращает полученный результат в виде строки.

Результатом приведенного ниже запроса:

```sql
SELECT CONV(5, 10, 2),
       CONV(101, 2, 10),
       CONV(100, 10, 16),
       CONV('F', 16, 10),
       CONV('10F', 16, 2);
```

является:

```sql
+----------------+------------------+-------------------+-------------------+--------------------+
| CONV(5, 10, 2) | CONV(101, 2, 10) | CONV(100, 10, 16) | CONV('F', 16, 10) | CONV('10F', 16, 2) |
+----------------+------------------+-------------------+-------------------+--------------------+
| 101            | 5                | 64                | 15                | 100001111          |
+----------------+------------------+-------------------+-------------------+--------------------+
```

## Функция FORMAT()

Функция `FORMAT()` используется для округления и форматирования числа. Она принимает два аргумента в следующем порядке:

- `num` — число
- `decimals` — количество знаков после запятой

Функция округляет число `num` до `decimals` знаков после запятой, форматирует его путем разбиения на разряды и возвращает полученный результат в виде строки.

Результатом приведенного ниже запроса:

```sql
SELECT FORMAT(1000000.1653, 3),
       FORMAT(1000000.1653, 2),
       FORMAT(1000000.1653, 1),
       FORMAT(1000000.1653, 0);
```

является:

```sql
+-------------------------+-------------------------+-------------------------+-------------------------+
| FORMAT(1000000.1653, 3) | FORMAT(1000000.1653, 2) | FORMAT(1000000.1653, 1) | FORMAT(1000000.1653, 0) |
+-------------------------+-------------------------+-------------------------+-------------------------+
| 1,000,000.165           | 1,000,000.17            | 1,000,000.2             | 1,000,000               |
+-------------------------+-------------------------+-------------------------+-------------------------+
```

Обратите внимание, что функция `FORMAT()` округляет число согласно математическим правилам округления, то есть в большую по модулю сторону.

Если указанное количество знаков после запятой больше фактического количества знаков у числа, функция `FORMAT()` заполнит недостающие знаки незначащими нулями.

Результатом приведенного ниже запроса:

```sql
SELECT FORMAT(1000000.1653, 5),
       FORMAT(1000000.1653, 7);
```

является:

```sql
+-------------------------+-------------------------+
| FORMAT(1000000.1653, 5) | FORMAT(1000000.1653, 7) |
+-------------------------+-------------------------+
| 1,000,000.16530         | 1,000,000.1653000       |
+-------------------------+-------------------------+
```
