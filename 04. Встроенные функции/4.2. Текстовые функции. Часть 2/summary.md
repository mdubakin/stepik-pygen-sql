# Текстовые функции. Часть 2

- [Текстовые функции. Часть 2](#текстовые-функции-часть-2)
  - [Функция LEFT()](#функция-left)
  - [Функция RIGHT()](#функция-right)
  - [Функция LOCATE()](#функция-locate)
  - [Функция REPLACE()](#функция-replace)

## Функция LEFT()

Функция `LEFT()` используется для извлечения определенного количества символов из начала строки. Она принимает два аргумента в следующем порядке:

- `str` — исходная строка
- `count` — количество извлекаемых символов

Функция возвращает строку, состоящую из первых `count` символов строки `str`.

Результатом приведенного ниже запроса:

```sql
SELECT LEFT('beegeek', 1),
       LEFT('beegeek', 3),
       LEFT('beegeek', 7);
```

является:

```sql
+--------------------+--------------------+--------------------+
| LEFT('beegeek', 1) | LEFT('beegeek', 3) | LEFT('beegeek', 7) |
+--------------------+--------------------+--------------------+
| b                  | bee                | beegeek            |
+--------------------+--------------------+--------------------+
```

Если количество извлекаемых символов меньше 1, функция `LEFT()` вернет пустую строку.

## Функция RIGHT()

Функция `RIGHT()` используется для извлечения определенного количества символов из конца строки. Она принимает два аргумента в следующем порядке:

- `str` — исходная строка
- `count` — количество извлекаемых символов

Функция возвращает строку, состоящую из последних `count` символов строки `str`.

Результатом приведенного ниже запроса:

```sql
SELECT RIGHT('beegeek', 1),
       RIGHT('beegeek', 3),
       RIGHT('beegeek', 7);
```

является:

```sql
+---------------------+---------------------+---------------------+
| RIGHT('beegeek', 1) | RIGHT('beegeek', 3) | RIGHT('beegeek', 7) |
+---------------------+---------------------+---------------------+
| k                   | eek                 | beegeek             |
+---------------------+---------------------+---------------------+
```

Аналогично функции `LEFT()`, если количество извлекаемых символов меньше 1, функция `RIGHT()` вернет пустую строку, если больше длины строки — всю строку.

## Функция LOCATE()

Функция `LOCATE()` используется для определения местоположения подстроки в строке. Она принимает три аргумента в следующем порядке:

- `substr` — искомая подстрока
- `str` — исходная строка
- `start` — позиция начала поиска (может не указываться, в таком случае поиск выполняется с начала строки)

Функция выполняет поиск подстроки `substr` в строке `str`, начиная с позиции `start`, и возвращает позицию ее первого вхождения.

Результатом приведенного ниже запроса:

```sql
SELECT LOCATE('e', 'beegeek'),
       LOCATE('g', 'beegeek'),
       LOCATE('eg', 'beegeek'),
       LOCATE('geek', 'beegeek');
```

является:

```sql
+------------------------+------------------------+-------------------------+---------------------------+
| LOCATE('e', 'beegeek') | LOCATE('g', 'beegeek') | LOCATE('eg', 'beegeek') | LOCATE('geek', 'beegeek') |
+------------------------+------------------------+-------------------------+---------------------------+
| 2                      | 4                      | 3                       | 4                         |
+------------------------+------------------------+-------------------------+---------------------------+
```

> Обратите внимание, что при использовании функции `LOCATE()` символы исходной строки нумеруются с `1`, а не с `0`.

Результатом приведенного ниже запроса:

```sql
SELECT LOCATE('e', 'beegeek', 2),
       LOCATE('e', 'beegeek', 4);
```

является:

```sql
+---------------------------+---------------------------+
| LOCATE('e', 'beegeek', 2) | LOCATE('e', 'beegeek', 4) |
+---------------------------+---------------------------+
| 2                         | 5                         |
+---------------------------+---------------------------+
```

Также следует отметить, что функция `LOCATE()` выполняет поиск позиции подстроки без учета регистра.

## Функция REPLACE()

Функция `REPLACE()` используется для замены подстроки в строке. Она принимает три аргумента в следующем порядке:

- `str` — исходная строка
- `from_str` — заменяемая подстрока
- `to_str` — заменяющая подстрока

Функция заменяет все вхождения подстроки `from_str` в строке `str` на подстроку `to_str` и возвращает полученный результат.

Результатом приведенного ниже запроса:

```sql
SELECT REPLACE('beegeek', 'e', 'i'),
       REPLACE('beegeek', 'geek', 'g'),
       REPLACE('beegeek', 'geek', 'Geek');
```

является:

```sql
+------------------------------+---------------------------------+------------------------------------+
| REPLACE('beegeek', 'e', 'i') | REPLACE('beegeek', 'geek', 'g') | REPLACE('beegeek', 'geek', 'Geek') |
+------------------------------+---------------------------------+------------------------------------+
| biigiik                      | beeg                            | beeGeek                            |
+------------------------------+---------------------------------+------------------------------------+
```

Если заменяемой подстроки в строке нет, функция `REPLACE()` вернет строку в исходном виде.

Результатом приведенного ниже запроса:

```sql
SELECT REPLACE('beegeek', 'a', 'i'),
       REPLACE('beegeek', 'keeg', 'Keeg');
```

является:

```sql
+------------------------------+------------------------------------+
| REPLACE('beegeek', 'a', 'i') | REPLACE('beegeek', 'keeg', 'Keeg') |
+------------------------------+------------------------------------+
| beegeek                      | beegeek                            |
+------------------------------+------------------------------------+
```

В отличие от функции `LOCATE()`, функция `REPLACE()` выполняет замену с учетом регистра.

Результатом приведенного ниже запроса:

```sql
SELECT REPLACE('beegeek', 'B', 'BBB'),
       REPLACE('beegeek', 'b', 'bbb');
```

является:

```sql
+--------------------------------+--------------------------------+
| REPLACE('beegeek', 'B', 'BBB') | REPLACE('beegeek', 'b', 'bbb') |
+--------------------------------+--------------------------------+
| beegeek                        | bbbeegeek                      |
+--------------------------------+--------------------------------+
```
